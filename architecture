
## 🏗️ System Architecture — AgriVoiceAI

```

```
                      ┌─────────────────────────────┐
                      │ 👩‍🌾  Farmer (Caller)        │
                      │  Dials Toll-Free Number     │
                      └──────────────┬──────────────┘
                                     │
                                     ▼
                      ┌─────────────────────────────┐
                      │ ☎️ IVR Gateway (Twilio/Exotel)│
                      │  Captures keypad/voice input │
                      └──────────────┬──────────────┘
                                     │ Webhook
                                     ▼
                      ┌─────────────────────────────┐
                      │ 🧠 Flask Backend (ivr_api.py)│
                      │  Handles call routing, logic │
                      │  & integrates ML components  │
                      └─────┬───────────────────────┘
                            │
                            │ 1️⃣ Check data freshness
                            │ 2️⃣ Auto-update if outdated
                            ▼
                 ┌───────────────────────────────┐
                 │ 📈 Data Updater (data_updater.py) │
                 │  Fetches weather/soil data from  │
                 │  live APIs & updates CSV files   │
                 └─────────────────────────────────┘
                            │
                            ▼
                ┌────────────────────────────────┐
                │ 📊 ML Models (Prophet / LSTM)   │
                │  Forecast rainfall, suggest crops│
                │  Generate soil & fertilizer logic│
                └────────────────────────────────┘
                            │
                            ▼
               ┌─────────────────────────────────┐
               │ 🔉 Text-to-Speech Engine (gTTS / │
               │  Azure Speech / Polly)          │
               │  Converts AI result → Telugu/Hindi │
               └─────────────────────────────────┘
                            │
                            ▼
                 ┌──────────────────────────────┐
                 │ ☎️ IVR Voice Response         │
                 │  Speaks AI insight to farmer  │
                 └──────────────────────────────┘
                            │
                            ▼
            ┌────────────────────────────────────────┐
            │ 📱 QR Traceability Dashboard (React)    │
            │  Displays farm history, crop data, etc. │
            └────────────────────────────────────────┘
```

```

---

### 🧩 **Data Flow Summary**

| Step | Component | Function |
|------|------------|-----------|
| 1️⃣ | Farmer | Calls via phone / IVR |
| 2️⃣ | IVR Gateway | Sends input (key or speech) to backend |
| 3️⃣ | Flask Backend | Controls logic, triggers AI responses |
| 4️⃣ | Data Updater | Auto-fetches live rainfall & soil data |
| 5️⃣ | ML Models | Predict rainfall, recommend crops |
| 6️⃣ | TTS Engine | Converts text → regional voice |
| 7️⃣ | IVR Output | Plays AI advice to farmer |
| 8️⃣ | QR Dashboard | Provides traceability for transparency |

---

### 🧠 **Key Highlights**

- **Fully automated data pipeline** → no manual CSV updates  
- **Real-time voice interaction** → IVR powered by AI  
- **Coordination Economy principles** → reliability × intelligence × oversight  
- **Expandable** → easily scale to multiple languages, states, or APIs  

---
